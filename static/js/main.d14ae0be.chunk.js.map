{"version":3,"sources":["context/appContext.js","components/map/CustomMarker.js","components/map/MapContainer.js","components/layout/SideBarButton.js","components/sidebar/Search.js","components/sidebar/OutputItem.js","components/sidebar/SideBar.js","context/appReducer.js","context/types.js","context/AppState.js","App.js","index.js"],"names":["appContext","createContext","CustomMarker","feature","setPopup","useContext","AppContext","coordinates","center","onClick","Map","ReactMapboxGl","accessToken","MapContainer","places","getPlaces","popupData","useEffect","markers","features","map","key","id","style","containerStyle","height","width","anchor","offset","location","text","name","type","layout","SideBarButton","setVisibility","className","Search","placeholder","OutputItem","console","log","SideBar","isVisible","state","action","payload","AppState","props","useReducer","AppReducer","dispatch","a","axios","res","data","Provider","value","place_name","children","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d14ae0be.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst appContext = createContext();\n\nexport default appContext;\n","import React, { useContext } from 'react';\nimport { Marker } from 'react-mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\n\nimport AppContext from '../../context/appContext';\n\nconst CustomMarker = ({ feature }) => {\n  const appContext = useContext(AppContext);\n  const { setPopup } = appContext;\n\n  const handleClick = () => {\n    setPopup(feature);\n  };\n\n  return (\n    <Marker\n      coordinates={[feature.center[0], feature.center[1]]}\n      onClick={handleClick}\n    ></Marker>\n  );\n};\n\nexport default CustomMarker;\n","import React, { useEffect, useContext } from 'react';\nimport ReactMapboxGl, { Layer, Popup } from 'react-mapbox-gl';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport CustomMarker from './CustomMarker';\n\nimport AppContext from '../../context/appContext';\n\nconst Map = ReactMapboxGl({\n  accessToken:\n    'pk.eyJ1IjoiY29kZWFnb255IiwiYSI6ImNqemg5NHE4dDBiMGczbG16cDhyb3Q1NTYifQ.h_WYdEWMtkuogpC9_l89SQ'\n});\n\nconst MapContainer = () => {\n  const appContext = useContext(AppContext);\n  const { places, getPlaces, popupData } = appContext;\n\n  useEffect(() => {\n    getPlaces();\n  }, []);\n\n  // Add marker for each place\n  const markers =\n    places !== null &&\n    places.features.map(feature => (\n      <CustomMarker\n        feature={feature}\n        key={feature.id}\n        coordinates={feature.center}\n      ></CustomMarker>\n    ));\n\n  return (\n    <div>\n      <Map\n        style=\"mapbox://styles/mapbox/streets-v9\"\n        center={[28.4685, 49.2344]}\n        containerStyle={{\n          height: '100vh',\n          width: '100vw'\n        }}\n      >\n        {popupData !== null && (\n          <Popup anchor={'bottom'} offset={10} coordinates={popupData.location}>\n            <h5>{popupData.text}</h5>\n            <br />\n            <h6>{popupData.name}</h6>\n          </Popup>\n        )}\n        <Layer\n          type=\"symbol\"\n          id=\"marker\"\n          layout={{ 'icon-image': 'restaurant-15' }}\n        >\n          {markers}\n        </Layer>\n      </Map>\n    </div>\n  );\n};\n\nexport default MapContainer;\n","import React, { useContext } from 'react';\nimport AppContext from '../../context/appContext';\n\nconst SideBarButton = () => {\n  const appContext = useContext(AppContext);\n\n  const { setVisibility } = appContext;\n\n  const onClick = () => {\n    setVisibility();\n  };\n  return (\n    <div className=\"sidebar-button\" onClick={onClick}>\n      <i className=\"fas fa-lg fa-search-location\"></i>\n    </div>\n  );\n};\n\nexport default SideBarButton;\n","import React from 'react';\n\nconst Search = () => {\n  return (\n    <div className=\"search\">\n      <form>\n        <input\n          type=\"text\"\n          placeholder=\"Filter places\"\n          className=\"search-input\"\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default Search;\n","import React, { useContext } from 'react';\nimport AppContext from '../../context/appContext';\n\nconst OutputItem = ({ feature, name }) => {\n  const appContext = useContext(AppContext);\n  const { setPopup } = appContext;\n\n  const handleClick = () => {\n    setPopup(feature);\n    console.log(feature);\n  };\n\n  return (\n    <p className=\"output-item\" onClick={handleClick}>\n      {name}\n    </p>\n  );\n};\n\nexport default OutputItem;\n","import React, { useContext } from 'react';\nimport Search from './Search';\nimport OutputItem from './OutputItem';\n\nimport AppContext from '../../context/appContext';\n\nconst SideBar = () => {\n  const appContext = useContext(AppContext);\n  const { isVisible, places } = appContext;\n\n  return (\n    <div className={isVisible ? 'sidebar sidebar-visible' : 'sidebar'}>\n      <h3>Vinnytsia</h3>\n      <Search />\n      {places !== null &&\n        places.features.map(feature => (\n          <OutputItem feature={feature} key={feature.id} name={feature.text} />\n        ))}\n    </div>\n  );\n};\n\nexport default SideBar;\n","import { GET_PLACES, SET_VISIBILITY, SET_POPUP } from './types';\n\nexport default (state, action) => {\n  switch (action.type) {\n    case GET_PLACES:\n      return {\n        ...state,\n        places: action.payload\n      };\n    case SET_VISIBILITY:\n      return {\n        ...state,\n        isVisible: action.payload\n      };\n    case SET_POPUP:\n      return {\n        ...state,\n        popupData: action.payload\n      };\n  }\n};\n","export const GET_PLACES = 'GET_PLACES';\nexport const SET_POPUP = 'SET_POPUP';\nexport const SET_VISIBILITY = 'SET_VISIBILITY';\n// export const GET_PLACES = \"GET_PLACES\";\n// export const GET_PLACES = \"GET_PLACES\";\n// export const GET_PLACES = \"GET_PLACES\";\n","import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport AppContext from './appContext';\nimport AppReducer from './appReducer';\nimport { GET_PLACES, SET_VISIBILITY, SET_POPUP } from './types';\n\nconst AppState = props => {\n  const initialState = {\n    places: null,\n    isVisible: false,\n    popupData: null\n  };\n\n  const [state, dispatch] = useReducer(AppReducer, initialState);\n\n  // Get places\n  const getPlaces = async () => {\n    const res = await axios(\n      'https://api.mapbox.com/geocoding/v5/mapbox.places/restaurant.json?proximity=28.4685,%2049.2344&bbox=27.37442,48.06551,30.023758,49.889038&limit=10&access_token=pk.eyJ1IjoiY29kZWFnb255IiwiYSI6ImNqemg5NHE4dDBiMGczbG16cDhyb3Q1NTYifQ.h_WYdEWMtkuogpC9_l89SQ'\n    );\n\n    dispatch({\n      type: GET_PLACES,\n      payload: res.data\n    });\n  };\n\n  // Set sidebar visibility\n  const setVisibility = () => {\n    state.isVisible\n      ? dispatch({\n          type: SET_VISIBILITY,\n          payload: false\n        })\n      : dispatch({\n          type: SET_VISIBILITY,\n          payload: true\n        });\n  };\n\n  // Set popup\n  const setPopup = feature => {\n    dispatch({\n      type: SET_POPUP,\n      payload: {\n        text: feature.text,\n        location: feature.center,\n        name: feature.place_name\n      }\n    });\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        places: state.places,\n        isVisible: state.isVisible,\n        popupData: state.popupData,\n        getPlaces,\n        setVisibility,\n        setPopup\n      }}\n    >\n      {props.children}\n    </AppContext.Provider>\n  );\n};\n\nexport default AppState;\n","import React from 'react';\nimport MapContainer from './components/map/MapContainer';\nimport SideBarButton from './components/layout/SideBarButton';\nimport SideBar from './components/sidebar/SideBar';\n\nimport AppState from './context/AppState';\n\nfunction App() {\n  return (\n    <AppState>\n      <div className=\"App\">\n        <SideBarButton />\n        <SideBar />\n        <MapContainer />\n      </div>\n    </AppState>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}