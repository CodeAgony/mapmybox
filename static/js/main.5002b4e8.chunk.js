(window.webpackJsonpmapmybox=window.webpackJsonpmapmybox||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/restaurant-15.1e7497ce.svg"},25:function(e,t,a){e.exports=a(56)},30:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(4),l=a.n(r),i=(a(30),a(3)),o=(a(6),a(20)),s=a.n(o),u=Object(n.createContext)(),p=function(e){var t=e.place,a=Object(n.useContext)(u).setPopup;return c.a.createElement(i.a,{coordinates:[t.center[0],t.center[1]],onClick:function(){a(t)}},c.a.createElement("img",{src:s.a,className:"noselect",alt:""}))},f=function(){var e=Object(n.useContext)(u).popupData;return c.a.createElement(i.b,{anchor:"bottom",offset:25,coordinates:e.location},c.a.createElement("h5",null,e.text),c.a.createElement("h6",null,e.address))},m=Object(i.c)({accessToken:"pk.eyJ1IjoiY29kZWFnb255IiwiYSI6ImNqemg5NHE4dDBiMGczbG16cDhyb3Q1NTYifQ.h_WYdEWMtkuogpC9_l89SQ"}),d=function(){var e=Object(n.useContext)(u),t=e.places,a=e.getPlaces,r=e.popupData,l=e.filteredPlaces;Object(n.useEffect)(function(){a()},[]);return c.a.createElement("div",null,c.a.createElement(m,{style:"mapbox://styles/mapbox/streets-v9",center:[28.4685,49.2344],containerStyle:{height:"100vh",width:"100vw"}},void 0!==r&"string"!==typeof r&&c.a.createElement(f,null),null!==t&!l.length>0?t.map(function(e){return c.a.createElement(p,{place:e,key:e.id,coordinates:e.center})}):l.length>0?l.map(function(e){return c.a.createElement(p,{place:e,key:e.id,coordinates:e.center})}):void 0))},b=function(){var e=Object(n.useContext)(u).setVisibility;return c.a.createElement("div",{className:"sidebar-button",onClick:function(){e()}},c.a.createElement("i",{className:"fas fa-lg fa-search-location"}))},E=function(){var e=Object(n.useContext)(u).filterPlaces,t=Object(n.useRef)(null);return c.a.createElement("div",{className:"search"},c.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},c.a.createElement("input",{type:"text",placeholder:"Filter places",className:"search-input",ref:t,onChange:function(a){a.preventDefault(),e(t.current.value)}})))},y=function(e){var t=e.place,a=Object(n.useContext)(u).setPopup;return c.a.createElement("p",{className:"output-item",onClick:function(){a(t)}},t.text)},v=function(){var e=Object(n.useContext)(u),t=e.isVisible,a=e.places,r=e.filteredPlaces;return c.a.createElement("div",{className:t?"sidebar sidebar-visible":"sidebar"},c.a.createElement("h3",null,"Vinnytsia"),c.a.createElement(E,null),null!==a&!r.length>0?a.map(function(e){return c.a.createElement(y,{place:e,key:e.id})}):r.length>0?r.map(function(e){return c.a.createElement(y,{place:e,key:e.id})}):void 0)},h=a(9),O=a.n(h),P=a(21),g=a(24),j=a(22),x=a.n(j),S=a(23);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(a,!0).forEach(function(t){Object(S.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var k=function(e,t){switch(t.type){case"GET_PLACES":return w({},e,{places:t.payload});case"SET_PLACES":return w({},e,{filteredPlaces:t.payload.length>0&&e.places.filter(function(e){var a=new RegExp("".concat(t.payload),"gi");return e.text.match(a)||e.place_name.match(a)})});case"SET_VISIBILITY":return w({},e,{isVisible:t.payload});case"SET_POPUP":return w({},e,{popupData:t.payload})}},C=function(e){var t={places:null,filteredPlaces:[],isVisible:!1,popupData:void 0},a=Object(n.useReducer)(k,t),r=Object(g.a)(a,2),l=r[0],i=r[1],o=function(){var e=Object(P.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()("https://api.mapbox.com/geocoding/v5/mapbox.places/restaurant.json?proximity=28.4685,%2049.2344&bbox=27.37442,48.06551,30.023758,49.889038&limit=10&access_token=pk.eyJ1IjoiY29kZWFnb255IiwiYSI6ImNqemg5NHE4dDBiMGczbG16cDhyb3Q1NTYifQ.h_WYdEWMtkuogpC9_l89SQ");case 2:t=e.sent,i({type:"GET_PLACES",payload:t.data.features});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(u.Provider,{value:{places:l.places,filteredPlaces:l.filteredPlaces,isVisible:l.isVisible,popupData:l.popupData,getPlaces:o,filterPlaces:function(e){i({type:"SET_PLACES",payload:e})},setVisibility:function(){l.isVisible?i({type:"SET_VISIBILITY",payload:!1}):i({type:"SET_VISIBILITY",payload:!0})},setPopup:function(e){void 0!==l.popupData&&"object"!==typeof l.popupData||i({type:"SET_POPUP",payload:{text:e.text,location:e.center,address:e.place_name.slice(e.place_name.indexOf(",")+1)}})}}},e.children)};var D=function(){return c.a.createElement(C,null,c.a.createElement("div",{className:"App"},c.a.createElement(b,null),c.a.createElement(v,null),c.a.createElement(d,null)))};l.a.render(c.a.createElement(D,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.5002b4e8.chunk.js.map